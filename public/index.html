<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kiyosystem</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .background-uploader {
            margin-top: 1em;
        }

        #party-section {
            background-size: cover;
            background-position: center;
        }
    </style>
</head>
<body>
    <header>
        <h1>kiyosystem</h1>
    </header>

    <main>
        <section id="party-section">
            <h2>現在のパーティ</h2>
            <div id="party-slots">
                <div class="party-slot">
                    <div class="character-display"></div>
                    <div class="equipment-selection">
                        <div class="weapon-slot">
                            <select class="weapon-select">
                                <option value="">武器を選択</option>
                            </select>
                        </div>
                        <div class="artifact-slots">
                            <select class="artifact-set-select">
                                <option value="">聖遺物セット1</option>
                            </select>
                            <select class="artifact-set-select">
                                <option value="">聖遺物セット2</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="party-slot">
                    <div class="character-display"></div>
                    <div class="equipment-selection">
                        <div class="weapon-slot">
                            <select class="weapon-select">
                                <option value="">武器を選択</option>
                            </select>
                        </div>
                        <div class="artifact-slots">
                            <select class="artifact-set-select">
                                <option value="">聖遺物セット1</option>
                            </select>
                            <select class="artifact-set-select">
                                <option value="">聖遺物セット2</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="party-slot">
                    <div class="character-display"></div>
                    <div class="equipment-selection">
                        <div class="weapon-slot">
                            <select class="weapon-select">
                                <option value="">武器を選択</option>
                            </select>
                        </div>
                        <div class="artifact-slots">
                            <select class="artifact-set-select">
                                <option value="">聖遺物セット1</option>
                            </select>
                            <select class="artifact-set-select">
                                <option value="">聖遺物セット2</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="party-slot">
                    <div class="character-display"></div>
                    <div class="equipment-selection">
                        <div class="weapon-slot">
                            <select class="weapon-select">
                                <option value="">武器を選択</option>
                            </select>
                        </div>
                        <div class="artifact-slots">
                            <select class="artifact-set-select">
                                <option value="">聖遺物セット1</option>
                            </select>
                            <select class="artifact-set-select">
                                <option value="">聖遺物セット2</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <button id="clear-party">パーティをクリア</button>

            <div class="background-uploader">
                <label for="bg-uploader">パーティ欄の背景を変更:</label>
                <input type="file" id="bg-uploader" accept="image/*">
            </div>
        </section>

        <section id="character-management-section">
            <h2>キャラクター管理</h2>
            <div id="upload-section">
                <h3>1. 画像をアップロード</h3>
                <input type="file" id="imageUploader" accept="image/png, image/jpeg">
                <button type="button" id="uploadButton">アップロード</button>
                <div id="uploadStatus"></div>
            </div>

            <form id="add-character-form">
                <h3>2. キャラクター情報を入力して追加</h3>
                <input type="text" id="char-name" placeholder="名前" required>
                <select id="char-element" required>
                    <option value="">元素を選択</option>
                    <option value="炎">炎</option>
                    <option value="水">水</option>
                    <option value="氷">氷</option>
                    <option value="雷">雷</option>
                    <option value="風">風</option>
                    <option value="岩">岩</option>
                    <option value="草">草</option>
                </select>
                <select id="char-weapon" required>
                    <option value="">武器種を選択</option>
                    <option value="片手剣">片手剣</option>
                    <option value="両手剣">両手剣</option>
                    <option value="長柄武器">長柄武器</option>
                    <option value="弓">弓</option>
                    <option value="法器">法器</option>
                </select>
                <select id="char-rarity" required>
                    <option value="">レアリティ</option>
                    <option value="5">★5</option>
                    <option value="4">★4</option>
                </select>
                <input type="hidden" id="char-image-url">
                <button type="submit">キャラクターを追加</button>
            </form>
        </section>

        <section id="character-selection-section">
            <h2>キャラクター選択</h2>
            <div id="filters">
                <input type="text" id="search-bar" placeholder="キャラクター名で検索...">
                <select id="element-filter">
                    <option value="all">全元素</option>
                    <option value="炎">炎</option>
                    <option value="水">水</option>
                    <option value="氷">氷</option>
                    <option value="雷">雷</option>
                    <option value="風">風</option>
                    <option value="岩">岩</option>
                    <option value="草">草</option>
                </select>
                <select id="weapon-filter">
                    <option value="all">全武器種</option>
                    <option value="片手剣">片手剣</option>
                    <option value="両手剣">両手剣</option>
                    <option value="長柄武器">長柄武器</option>
                    <option value="弓">弓</option>
                    <option value="法器">法器</option>
                </select>
            </div>
            <div id="character-list"></div>
        </section>
    </main>

    <script src="script.js"></script>
    <script>
        document.getElementById("bg-uploader").addEventListener("change", function(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                const bgUrl = e.target.result;
                document.getElementById("party-section").style.backgroundImage = `url(${bgUrl})`;
            };
            reader.readAsDataURL(file);
        });
    </script>
</body>
</html>
